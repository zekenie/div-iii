<!doctype html>
<html>
<head>
	<link rel="stylesheet" href="http://twitter.github.com/bootstrap/assets/css/bootstrap.css"/>
	<style>
		article{
			margin-top:1.2em;
			margin-bottom:1.2em;
			background:#E6E6E6;
			border-radius: 0.5em;
			padding:2em;
		}
		.gh-ico {
			  width: 14px;
			  height: 15px;
			  margin-top: -3px;
			  margin-right: 4px;
			  vertical-align: middle;
			  background-image: url(data:image/png;base64,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);
			  background-repeat: no-repeat;
			  background-position: 0 0;
			}
	</style>
</head>
<body>

	<a href="https://github.com/zekenie/div-iii/" style="z-index:9999;"><img style="z-index:9999;position: fixed; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub"></a>
	<div class="navbar navbar-fixed-top">
		<div class="navbar-inner">
			<div class="container-fluid">

				<a class="brand" href="">Empowerment Software</a>
				<ul class="nav">
					<li><a href="#introduction">Introduction</a></li>
					<li><a href="#webGP">WebGP</a></li>
					<li><a href="#chemGP">ChemGP</a></li>
					<li><a href="#carrotStick">CarrotStick</a></li>
					<li><a href="#trext">Trext</a></li>
					<li><a href="#opinion">Opinion Essay</a></li>
					<li><a href="#conclusions">Conclusions</a></li>
				</ul>
			</div>
		</div>
	</div>
	<br/><br/>
	<div class="container">
		<article id="webGP">
			<div class="page-header">
				<h1>webGP</h1>
				<a class="btn"><div style="display:inline-block;width:16px;" class="gh-ico"></div> Go to Github project</a>
			</div>
			<p class="lead">webGP is a web-based, javascript tool that allows anyone to do symbolic regression GP runs.</p>
			<iframe src="http://player.vimeo.com/video/51937862" style="" class="thumbnail" width="675" height="379" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>

			<section>
				<h2>What is GP</h2>
				<p>Genetic programming is a technique that allows computers to write programs. The genetic programmer must first write a function that can evaluate program-candidates. This is called the fitness function. This function evaluates a candidate program and returns some form of score. The genetic programmer must also build a random code generator that can produce random programs. With these two components, one can build the first steps of a GP system by generating many random programs and evaluating them with the fitness function. Typically, none of the random programs come close to a good score, but some are better than others. Thus far, this is mildly interesting, but not powerful. In order to leverage principals of Darwinian evolution, programs must be able to "reproduce."</p>

				<p>A simple genetic programming system is completed when programs can mutate and/or breed with one another. A mutate function takes a program and returns a modified version of itself. A crossover function takes two programs, removes a piece of one and replaces it with a piece of the other. To run the finished GP system, generate a series of random programs. Rate their fitness'. Pick some of the better programs and breed them to produce a new series. Each series is called a generation. If the system is working properly, the programs' fitness should improve over time.</p>

				<p>Genetic programming is a deep and rich field. There are countless papers published on variations of each of the concepts explained above. </p>
			</section>
			<section>
				<h2>What is Symbolic Regression</h2>
				<p>Symbolic regression is a GP technique that attempts mathematically explain data. In some ways, it is analogous to linear regression. In linear regression two-dimensional (x, y) data is modeled by a linear function. Symbolic regression is similar except there are no requirements on the type of function and the data can be n-dimensional (x, y, z, ...). Functions are generated through GP. Symbolic regression is powerful when searching through complex data.</p>
			</section>
			<section>
				<h2>Motivation</h2>
				<p>As scientific tests become less expensive and more abundant, scientists are facing increasingly large datasets (http://europepmc.org/abstract/MED/19620020). Symbolic regression has potential as a tool for scientists to make sense of the mess they're in. But, it faces a problem. The barrier to entry is too high. This was the inspiration for building webGP. I wanted to give people a way to run GP on data they have sitting in an excel file or database.</p>
			</section>
			<section>

				<h2>Features</h2>
				<div class="row">
					<div class="span3"><strong>Excel-like data table for data input</strong></div>
					<div class="span8"><p>Excel-like data table for data input. The first row will be the variable names, each row will contain values. The last column will be the fitness cases. These are the outputs that the fitness function is comparing against. See the table below for an example. In the example we have routine measurements a and b. We know c  in the cases described but we want a function that can predict c given a and b.</p></div>
				</div>
				<div class="row">
					<div class="span3"><strong>Function choice and GP parameters</strong></div>
					<div class="span8"><p>Function choices and GP parameters. I made an interface that allows the user to decide what mathematical operations the evolved programs may employ. The user can also specify parameters about the run (its length, size of generations, etc).</p></div>
				</div>
				<div class="row">
					<div class="span3"><strong>Visualization of results</strong></div>
					<div class="span8">
						<ul>
							<li>
								Real time
								<ul>
									<li>Visualizing the best error in each generation as the data comes in</li>
									<li>Visualizing the best program's size as it is generated
</li>
								</ul>
							</li>
							<li>
								After the run
								<ul>
									<li>Best program's predictions against fitness cases. A graph that plots two series. The fitness cases and the best program's prediction of what they should be. This gives the user a rough understanding of how good the best program is.</li>
									<li>Piano plot. This graph shows each individual program's score plotted on the y-axis and its (arbitrary) ID on the x axis. The IDs are based on score and generation. Each point is shaded based on its length. This plot can give the user a sense of the diversity of the population in each generation</li>
									<li>Size vs error vs age. This graph shows how the relationship between size of programs, their error and their generation. It gives the user a sense of how how size and error changed over generation time.</li>
								</ul>
							</li>
						</ul>
					</div>
				</div>
			</section>
			<section>
				<h2>Process of building</h2>
				<p>At first, I started building a simple GP engine in javascript as a way of learning GP. I had been working on other projects in Clojure, but didn't have a good feel of the language. I didn't want to let this technical clumsiness inhibit my learning of GP. Once I had the engine working, I realized how easy it would be to make a web front-end. First I just made the data table and GP options. Then, I wanted to see how the process was going in real time. I started learning <a href="http://d3js.org/" target="_blank">D3.js</a>, a graphing library. I made some classes for bar charts and scatterplots--the two types of visualization I eventually wanted. With those classes I made some powerful graphs.</p>
			</section>
			<section>
				<h2>Challenges</h2>
				<p>When webGP is used for small problems, its great. Chrome's V8 javascript engine is lightning fast, and webGP is written well enough to harness its speed. But, because I wrote webGP to store and analyze every program ever produced by GP, it eats up a lot of RAM. If you have many generations, and each one is very large, it crashes the browser tab. Also, some of the visualizations techniques performed after the run need to output a point for every program. This can take some time. I did make a modification to have the scatterplots only reflect a representative sample of the population. This improved speed considerably.</p>
			</section>
			<section>
				<h2>What would come next</h2>
				<p>
					To mitigate the memory problem, I would send the programs to a <a href="http://nodejs.org/" target="_blank">node.js</a> server to be stored. Node.js has the capacity for real time client-server interaction with the use of websockets. This means once programs are created and evaluated, they can be stored elsewhere. This frees the client to run as long as it needs to. It also opens up the door for multiple computers all running the same problem. 
				</p>
			</section>

			<!-- <iframe src="http://player.vimeo.com/video/51937862" width="400" height="300" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe> -->

			<!-- TODO 
				1. Add citation to GP book
			-->
		</article>
		<article id="chemGP">
			<div class="page-header">
				<h1>ChemGP</h1>
			</div>
			<img src="chemGP.png"/>
			<section>
				<p>In this project I sought to find a mathematical relationships between several attributes of molecules and their reaction rate constant in a cycloaddion reaction. I used symbolic regression GP in the search. Cycloadditions are reactions that make a new hydrocarbon ring (or "cycle"). They are synthetically powerful for many reasons, but here I will focus on their utility in "bioorthogonal" chemistry (BC). BC is is the study of synthetic chemical reactions that run inside an organism but do not interfere with the endogenous biochemical reactions. Applications of BC include attaching florescent molecules to proteins without the standard transgenic mutations required for the technique. These "tagging" reactions could be used by biologists or clinicians for diagnostic purposes. Bioorthogonal chemistry might one day be used for therapeutic purposes.</p>

<p>In order to be useful BCs must adhere to a rather stringent set of requirements. They must react selectively (have little to no side reactions). They must not be cytotoxic (deadly to the tissue or organism). They must be kinetically accessible (they must happen quickly enough and in high enough yield to be measured).  Many of the synthetic techniques used by organic chemists require there to be no water in the reaction. BC reactions must run in water. Organic chemists can control the temperature, pressure, and pH of their reactions, BC reactions must be under physiological conditions. These criteria make BC reactants hard to find.</p>

<p>In this project I used symbolic regression GP to search for a mathematical relationship between known properties of BC cycloadditions and their reaction rate constants (k). In order to start with GP, I had to build a significant amount of cheminformatic infrastructure. Essentailly, I needed a database of reactions. I needed many parameters about each molecule in the reaction--two reactants, a solvent, and a product. I also needed information about the reaction (its pressure, temperature, reaction rate).</p>

<p>I build the database with PHP/MySQL and javascript. I employed the <a target="_blank" href="http://web.chemdoodle.com">Chemdoodle web framework</a>, an HTML 5/javascript chemistry toolkit. They have an API service which was purchased for chemical computations. Using chemdoodle, I manually drew dozens of reactions from two papers and entered the reaction parameters. Chemdoodle's API calculated parameters for each molecule and I wrote code to save these calculations into MySQL.</p>

<p>In order to get the data in a format that allowed webGP to be used, I needed to write code to translate the multidimensional MySQL data into a linear list. Each reaction consisted of four molecule rows, one reaction row, and several rows to indicate the relationship. Each row had up to 16 fields. I had to translate this information into a simple list. To do this I prefixed all molecule data with the role it was playing in the reaction (diene-molecular weight, dieneophile molecular weight, solvent molecular weight, etc). From this I was able to create a simple table representing all the data. From this I used webGP to generate functions that took every reaction variable and generate the reaction rate constant.</p>

<p>I found that the webGP engine that had worked well for simple problems was not effective with this problem. The programs evolved, but plateaued early in the run (they did not continue to improve). In order to improve the GP performance I patched webGP to include "<a href="http://faculty.hampshire.edu/lspector/pubs/trivial-geography-toappear.pdf" target="_blank">trivial geography</a>" in the mating functions. This technique selects the most fit programs from each area in the population, not the population at large. This allows for slightly less fit programs to survive longer and preserves diversity in the population. </p>

<p>The implementation of trivial geography made the runs' plateaus come later, and their fitness' improve.</p>

<p>I also needed to modify the code to include separate data categories for training and validation of the programs. Certain reactions were randomly selected to train (be used in the fitness evaluation) while others were left to evaluate the fitness of best programs from the run. Because these data were not used in the training, their incorporation reduces the degree to which the evolved programs are biased towards the dataset. </p>

<p>I presented this project at a <a href="http://4cbc.cs.umass.edu/" target="_blank">4CBC</a> event in November 2012. The slides from this presentation are avalible <a href="http://stout.hampshire.edu/~zan09/div/p1113/#0">here</a>.
			</section>
		</article>

		<article class="carrotStick">
			<div class="page-header">
				<h1>CarrotStick</h1>
			</div>
			<img src="cs.png"/>

			<p>Carrot Stick is a piece of web software written at a hackathon hosted by <a href="http://communicatehealth.com" target="_blank">Communicate Health</a> last fall. We were tasked with writing software that helped communicate public health messages. A team of four (myself, James Matheson, Kira McCoy, and Amit Ringel) worked for two days to produce Carrot Stick.</p>

			<p>The abstract from Kira McCoy's Div III</p>
			<blockquote>
				<p>Smoking is the leading cause of preventable death in the US (Danaei, Ding et al. 2009), and accounts for 1 in 10 deaths worldwide (Park, Tudiver et al. 2012). Information is not enough to change behavior. Many smoking cessation interventions have harnessed the power of social relationships, however none have provided direct messages in loved ones' voices. The literature shows that "The person-to-person spread of smoking cessation appears to have been a factor in the population level decline in smoking seen in recent decades" (Christakis and Fowler 2008). People are connected, as is their health. Social relationships and expanded agency can be used to help people achieve health goals like smoking cessation. Services such as counseling may have short term impacts on smoking habits, but concern from a loved one may have lasting effects.</p>
					<br/>
				<p>
					A feasibility study of the program "CarrotStick" was conducted to access a novel smoking cessation intervention. CarrotStick empowers smokers to quit by providing unique support from family and friends. A smoker signs up online, invites friends to record messages and when she feels the urge, calls a number and hears either a "carrot message" (positive reinforcement) or a "stick" (tough love). Participants were smokers over the age of 18, who have the intention to quit. They were recruited through posters and online advertisements, leading them to the study website. Participants completed three surveys throughout the intervention, assessing smoking behavior, satisfaction with CarrotStick and other feasibility items. 
	The results being analyzed include assessing the number of recorded messages, types of messages, frequency of listening, attrition rates, impacts of reminders, software satisfaction, and limited smoking cessation efficacy.
	This study will provide insight into the impact and feasibility of implementing CarrotStick on a larger scale.
				</p>
			</blockquote>

			<p>Carrot Stick was unanimously chosen by the judges to receive the top price. Our group was elated. We were surprised by the degree to which our collaboration had improved our final product. We were all surprised by how good Carrot Stick looked after just two days.</p>

<p>Kira decided to keep working. She changed her Div III. She wanted to run a feasibility study on real smokers to see if Carrot Stick really helped people. To do this, I had to do some ongoing work. I built out different views for the app for participants in the control group and participants in the treatment group. I also designed and developed a survey form that combined three tobacco dependance measurements that Kira found. Finally, after noticing that people forgot to call into Carrot Stick, I made an SMS reminder system.</p>

<p>Carrot Stick was built with PHP, MySQL, the <a href="http://www.twilio.com/voice" target="_blank">Twilio voice API</a>, <a href="http://jquery.com" target="_blank">jQuery</a>, and <a href="http://underscorejs.org/" target="_blank">underscore.js</a>. It was deployed on the <a href="http://en.wikipedia.org/wiki/Platform_as_a_service" target="_blank">PaaS</a>	 <a href="http://heroku.com" target="_blank">Heroku</a>. It was the first time I deployed on a PaaS.</p>
			
	
		</article>

		<article id="trext">
			<div class="page-header">
				<h1>Trext</h1>
			</div>
			<div class="row">
				<div class="span3">
					<p>After our group's success in the first Hackathon, we decided to try again. We heard about Hacking Medicine, an event at Massachusetts General Hospital hosted by the Massachusetts Institute of Technology. The event's theme was global health. They were looking for groups to build software or hardware that could have an impact globally. </p>
					<p>Before the event, we brainstormed for our idea. On our mind was the concept of the clinical checklist as presented by Dr. Atul Gawande, author of <a href="http://www.thedailyshow.com/watch/wed-february-3-2010/atul-gawande" target="_blank">The Checklist Manifesto</a>.</p>
				</div>
				<div class="span8">
					<img src="zeke-md-pres.jpg" class="img-polaroid"/>
				</div>
			</div>
			<br/>
			<p>Dr. Gawande, a surgeon at Brigham and Woman's hospital describes how two minute checklists before certain procedures and operations can cut complications and death by double-digit percentages. As medicine's complexity has increased so have routine errors. Even experts with tens of thousands of hours of training make simple mistakes when confronted with complex, time-sensitive choices. Checklists can insure that routine precautions are always observed in clinical settings.</p>

			<p>Also on our minds was the limited technology in many low and middle income countries. Building a webapp for checklists was tempting, but our target populations don't have reliable or fast internet. However, some technology has penetrated nearly the entire planet. Most people have access to cell phones with SMS, for example.</p>

			<p>We thought about building an SMS checklist builder. It would be great for data collection and updating checklists in a way that paper wouldn't. But, SMS is cumbersome, especially on older phones. One of Dr. Gawande's 2 minute checklists might take 4 or 6 minutes by text. More importantly, some of the questions weren't relevant.</p>

			<div class="row">
				<div class="span4">
					<p>We stumbled on the idea of using the format of a decision tree to build these checklists. Decision trees can achieve complexity with a short path by eliminating irrelevant questions. We envisioned a simple GUI that would allow basic computer users to build SMS text apps. </p>
					<p>At the event we used a javascript library called JSPlumb as the backbone of our interface. On the server side we used PHP and MySQL. The SMS functionality was achieved with the Twilio SMS API. It was an ambitious project for a two-day competition. But, 30 minutes before our presentation, we had a working prototype. For the presentation we represented a clinical protocol for resuscitating infants. Our presentation could only be three minutes long so everything had to be condensed. We won one of the 2nd place prizes at the competition.</p>
				</div>
				<div class="span7">
					<img class="img-polaroid" src="trext-idea.jpg"/>
				</div>
			</div>
			<br/>
			<p>The software 2 days after the competition:</p>
			<img src="earlyTrext.png" style="margin-left: -30px;"/>
			<p>There was a palpable feeling that we were really good at this. We wanted to keep going. We thought the texting app was fantastic and we wanted to see it used on the ground in global health settings. But, everyone we showed it to had different ideas of use cases. Most of them were not in the field of global health. We realized we had build a useful design tool. </p>

			<p>We thought about using the tool we'd created as a commercial product. But, before we could, we needed to rewrite the entire codebase. The hackathon code wasn't thought out very well and couldn't support new features. We wanted to use <a href="http://nodejs.org">Node.js</a> on the server side because of some of its <a href="http://loadimpact.com/blog/nodejs-vs-php-using-load-impact-to-viaualize-nodejs-efficency" target="_blank">advantages over PHP</a>. But, node is hard to use. We had a lot of interest in the software, and we didn't have time to learn an entirely new technology stack. So, we took on some <a href="http://en.wikipedia.org/wiki/Technical_debt" target="_blank">technical debt</a>. We did a rewrite with the same technology stack. Much of the rewrite happened over winter break while I was shopping the idea around to VCs, talking to lawyers, and pitching to San Francisco-based leeds.</p>

			<p>The team worked intensely over January. We worked on a “batch texting” feature in which trees could be started by our clients not the end-users. We refactored the code three times. We designed a <a href="http://trext.me">marketing site</a>.</p>
		</article>
	</div>
</body>
</html>